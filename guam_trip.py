import streamlit as st
import folium
from streamlit_folium import st_folium
import datetime

st.set_page_config(page_title="괌 6박 7일 가족여행 가이드", layout="wide")

st.title("🌴 괌 6박 7일 가족여행 가이드")
st.markdown("""
괌은 가족 단위 여행객에게 최고의 휴양지 중 하나입니다.  
이 가이드는 추천 투어와 명소, 식사, 휴식 일정까지 꼼꼼히 담았습니다.
""")

# ---------------------------
# 📆 날짜 선택
# ---------------------------
st.sidebar.header("📅 여행 날짜 선택")
start_date = st.sidebar.date_input("여행 시작일", datetime.date.today())
end_date = st.sidebar.date_input("여행 종료일", start_date + datetime.timedelta(days=6))

if start_date > end_date:
    st.sidebar.error("시작일은 종료일보다 앞서야 합니다.")
else:
    st.sidebar.success(f"여행 기간: {start_date} ~ {end_date} ({(end_date - start_date).days + 1}일간)")

# ---------------------------
# 🗺️ 위치 데이터 + 지도
# ---------------------------
locations = {
    "🏖️ 타무닝 해변": [13.4961, 144.7782],
    "🏝️ 투몬 비치": [13.5165, 144.8077],
    "🐬 돌핀 와칭 투어 출발지": [13.4584, 144.7223],
    "🐟 피쉬아이 마린 파크": [13.4651, 144.7068],
    "💑 사랑의 절벽": [13.5270, 144.8071],
    "⛪ 아가나 대성당": [13.4744, 144.7487],
    "🛍️ 괌 프리미엄 아울렛": [13.4878, 144.7766],
    "🏞️ 이나라한 자연풀장": [13.3148, 144.7602],
}

m = folium.Map(location=[13.5, 144.8], zoom_start=11)
for name, coord in locations.items():
    folium.Marker(location=coord, popup=name, icon=folium.Icon(color="blue")).add_to(m)

st.subheader("🗺️ 주요 여행지 지도")
st_folium(m, width=700)

# ---------------------------
# 📅 일정 안내
# ---------------------------
st.subheader("📌 여행 일정")

day_by_day = {
    "1일차 (도착 및 휴식)": """
- 공항 도착 및 숙소 체크인 (추천 지역: 타무닝, 투몬)
- 🏖️ 타무닝 해변 산책
- 저녁: 숙소 근처 식당 (예: Proa 또는 Tony Roma's)
""",
    "2일차 (투몬 해변 & 사랑의 절벽)": """
- 오전: 🏝️ 투몬 해변 수영 및 스노클링
- 오후: 💑 사랑의 절벽 전망대 관광
- 저녁: 괌 맛집 BBQ (예: Jamaican Grill)
""",
    "3일차 (돌핀 와칭 투어 & 피쉬아이)": """
- 오전: 🐬 돌핀 와칭 & 스노클링 투어 (오전 9시 출발, 약 3시간)
- 점심: 피쉬아이 레스토랑
- 오후: 🐟 피쉬아이 마린파크 수족관 & 해양 전망 타워
""",
    "4일차 (쇼핑 & 아가나)": """
- 오전: 🛍️ 괌 프리미엄 아울렛 쇼핑
- 오후: ⛪ 아가나 대성당 및 주변 산책
- 저녁: 멕시칸 레스토랑 추천 (예: Caliente)
""",
    "5일차 (자연 탐방 - 이나라한)": """
- 오전: 🏞️ 이나라한 자연 풀장 수영 및 바다 체험
- 오후: 원주민 마을 탐방
- 저녁: 숙소에서 휴식 또는 호텔 디너 뷔페
""",
    "6일차 (자유일정 & 석양 크루즈 선택)": """
- 오전~오후: 자유 일정 (해변, 마사지, 호텔 수영장 등)
- 선택: 🌅 석양 크루즈 (오후 5시 출발, 해산물 뷔페 포함)
""",
    "7일차 (귀국 준비)": """
- 조식 후 체크아웃
- 공항 이동 및 귀국 ✈️
""",
}

for day, plan in day_by_day.items():
    st.markdown(f"### {day}")
    st.markdown(plan)

# ---------------------------
# 🌊 추천 투어
# ---------------------------
st.subheader("🌊 추천 투어")

st.markdown("""
- **🐬 돌핀 와칭 & 스노클링 투어**  
  - 출발지: 아가트 항
  - 소요시간: 3시간  
  - 포함: 보트 탑승, 스노클 장비, 음료

- **🌅 선셋 크루즈 (석양 투어)**  
  - 출발: 투몬/타무닝에서 셔틀 제공  
  - 포함: 선상 디너, 낚시 체험

- **🐠 피쉬아이 마린 파크 투어**  
  - 수족관, 해중 전망대 포함  
  - 바다 산책 데크도 매력적!
""")

st.success("가족 여행은 휴식과 추억이 중요해요. 일정은 여유 있게 구성해 보았어요!")
